{"ast":null,"code":"var _jsxFileName = \"/home/anton/code/projects/tmp/net-tools-clietnt-ts/_demo/src/pages/CpeInfoPage/CpeInfoPage.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport CpeForm from \"./../../components/CpeForm\";\nimport DeviceWrapper from \"./../../components/DeviceWrapper\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { Divider, message } from \"antd\";\nimport { API_HOST } from \"../../constants/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CpeInfoPage = () => {\n  _s();\n\n  const [deviceData, setDeviceData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getCpeData = async formData => {\n    console.log(\"data from form: \", formData);\n    console.log(JSON.stringify(formData));\n    let tempData = {\n      [formData._type]: formData._value\n    };\n    console.log(\"MODIFY DATA: \", tempData);\n    await axios.get(`http://${API_HOST}:4000/api/v1/device?cpe[${[formData._type]}]=${formData._value}`).then(res => {\n      console.log(\"STATUS\", res.status);\n      setDeviceData(res.data);\n    }).catch(error => {\n      console.warn({\n        errorMsg: { ...error\n        }\n      });\n      message.warning(`Устройство не найдено: \"${error.response.statusText}\". Проверьте корректность введенных данных и попробуйте снова.`, [3]);\n    });\n  };\n\n  const setCpeData = async data => {\n    setIsLoading(true);\n    message.loading(`SET TEMPLATE: ${data}`, true);\n    console.log(\"SET TEMPLATE\", data);\n    await axios.post(`http://${API_HOST}:4000/api/v1/device`, data).then(res => {\n      console.log(res);\n      setDeviceData(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cpeinfo-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(Divider, {\n      children: \"CPE Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), !deviceData ? /*#__PURE__*/_jsxDEV(CpeForm, {\n      props: {\n        setCpeData,\n        isLoading,\n        setIsLoading\n      },\n      getCpeData: getCpeData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(DeviceWrapper, {\n      props: {\n        deviceData,\n        setCpeData,\n        isLoading,\n        setIsLoading\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CpeInfoPage, \"lpDSD8mMkfold0FopRTvPJIfg8g=\");\n\n_c = CpeInfoPage;\nexport default CpeInfoPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CpeInfoPage\");","map":{"version":3,"sources":["/home/anton/code/projects/tmp/net-tools-clietnt-ts/_demo/src/pages/CpeInfoPage/CpeInfoPage.jsx"],"names":["useState","CpeForm","DeviceWrapper","axios","Divider","message","API_HOST","CpeInfoPage","deviceData","setDeviceData","isLoading","setIsLoading","getCpeData","formData","console","log","JSON","stringify","tempData","_type","_value","get","then","res","status","data","catch","error","warn","errorMsg","warning","response","statusText","setCpeData","loading","post"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,MAAjC;AACA,SAASC,QAAT,QAAyB,2BAAzB;;;AAGA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,KAAD,CAA1C;;AAEA,QAAMY,UAAU,GAAG,MAAOC,QAAP,IAAoB;AACrCC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,QAAhC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAAZ;AACA,QAAIK,QAAQ,GAAG;AAAE,OAACL,QAAQ,CAACM,KAAV,GAAkBN,QAAQ,CAACO;AAA7B,KAAf;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BG,QAA7B;AACA,UAAMf,KAAK,CACRkB,GADG,CAED,UAASf,QAAS,2BAA0B,CAACO,QAAQ,CAACM,KAAV,CAAiB,KAC5DN,QAAQ,CAACO,MACV,EAJC,EAMHE,IANG,CAMGC,GAAD,IAAS;AACbT,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBQ,GAAG,CAACC,MAA1B;AACAf,MAAAA,aAAa,CAACc,GAAG,CAACE,IAAL,CAAb;AACD,KATG,EAUHC,KAVG,CAUIC,KAAD,IAAW;AAChBb,MAAAA,OAAO,CAACc,IAAR,CAAa;AAAEC,QAAAA,QAAQ,EAAE,EAAE,GAAGF;AAAL;AAAZ,OAAb;AACAtB,MAAAA,OAAO,CAACyB,OAAR,CACG,2BAA0BH,KAAK,CAACI,QAAN,CAAeC,UAAW,gEADvD,EAEE,CAAC,CAAD,CAFF;AAID,KAhBG,CAAN;AAiBD,GAtBD;;AAyBA,QAAMC,UAAU,GAAG,MAAOR,IAAP,IAAgB;AACjCd,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAN,IAAAA,OAAO,CAAC6B,OAAR,CAAiB,iBAAgBT,IAAK,EAAtC,EAAyC,IAAzC;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BU,IAA5B;AAEA,UAAMtB,KAAK,CAACgC,IAAN,CAAY,UAAS7B,QAAS,qBAA9B,EAAoDmB,IAApD,EACLH,IADK,CACAC,GAAG,IAAG;AAACT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACbd,MAAAA,aAAa,CAACc,GAAG,CAACE,IAAL,CAAb;AAAwB,KAFlB,CAAN;AAGD,GARD;;AAUA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,4BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEG,CAACjB,UAAD,gBACC,QAAC,OAAD;AACE,MAAA,KAAK,EAAE;AAAEyB,QAAAA,UAAF;AAAcvB,QAAAA,SAAd;AAAyBC,QAAAA;AAAzB,OADT;AAEE,MAAA,UAAU,EAAEC;AAFd;AAAA;AAAA;AAAA;AAAA,YADD,gBAMC,QAAC,aAAD;AAAe,MAAA,KAAK,EAAE;AAAEJ,QAAAA,UAAF;AAAcyB,QAAAA,UAAd;AAAyBvB,QAAAA,SAAzB;AAAoCC,QAAAA;AAApC;AAAtB;AAAA;AAAA;AAAA;AAAA,YARJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,CApDD;;GAAMJ,W;;KAAAA,W;AAsDN,eAAeA,WAAf","sourcesContent":["import { useState } from \"react\";\nimport CpeForm from \"./../../components/CpeForm\";\nimport DeviceWrapper from \"./../../components/DeviceWrapper\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { Divider, message } from \"antd\";\nimport { API_HOST } from \"../../constants/constants\";\n\n\nconst CpeInfoPage = () => {\n  const [deviceData, setDeviceData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getCpeData = async (formData) => {\n    console.log(\"data from form: \", formData);\n    console.log(JSON.stringify(formData));\n    let tempData = { [formData._type]: formData._value };\n    console.log(\"MODIFY DATA: \", tempData);\n    await axios\n      .get(\n        `http://${API_HOST}:4000/api/v1/device?cpe[${[formData._type]}]=${\n          formData._value\n        }`\n      )\n      .then((res) => {\n        console.log(\"STATUS\", res.status);\n        setDeviceData(res.data);\n      })\n      .catch((error) => {\n        console.warn({ errorMsg: { ...error } });\n        message.warning(\n          `Устройство не найдено: \"${error.response.statusText}\". Проверьте корректность введенных данных и попробуйте снова.`,\n          [3]\n        );\n      });\n  };\n\n\n  const setCpeData = async (data) => {\n    setIsLoading(true)\n    message.loading(`SET TEMPLATE: ${data}`, true );\n    console.log(\"SET TEMPLATE\", data);\n\n    await axios.post(`http://${API_HOST}:4000/api/v1/device`, data)\n    .then(res =>{console.log(res);\n    setDeviceData(res.data)})\n  };\n\n  return (\n    <div className=\"cpeinfo-wrapper\">\n      <Divider>CPE Info</Divider>\n      {!deviceData ? (\n        <CpeForm\n          props={{ setCpeData, isLoading, setIsLoading }}\n          getCpeData={getCpeData}\n        />\n      ) : (\n        <DeviceWrapper props={{ deviceData, setCpeData,isLoading, setIsLoading }} />\n      )}\n    </div>\n  );\n};\n\nexport default CpeInfoPage;\n"]},"metadata":{},"sourceType":"module"}